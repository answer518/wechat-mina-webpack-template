!function(t){var e={};function n(o){if(e[o])return e[o].exports;var a=e[o]={i:o,l:!1,exports:{}};return t[o].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)n.d(o,a,function(e){return t[e]}.bind(null,a));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=8)}([function(t,e){t.exports={defaultAlertMessage:"好像哪里出了小问题~ 请再试一次~",appKey:"sports"}},function(t,e,n){"use strict";n.r(e);var o=n(0);Date.prototype.format=function(t){let e={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length)));for(let n in e)new RegExp("("+n+")").test(t)&&(t=t.replace(RegExp.$1,1===RegExp.$1.length?e[n]:("00"+e[n]).substr((""+e[n]).length)));return t};let a={toast(t,e=1500,n="none"){wx.showToast({title:t,icon:n,duration:e})},alert(t="提示",e=o.defaultAlertMsg,n=!1){"object"==typeof e&&(e=JSON.stringify(e)||o.defaultAlertMsg),wx.showModal({title:t,content:e,showCancel:n})},getDateDiff(t,e){let n=new Date(Date.parse(t.replace(/-/g,"/"))).getTime();return(new Date(Date.parse(e.replace(/-/g,"/"))).getTime()-n)/864e5},query2Dict(t){let e={};return t.replace(/([^?&=]+)=([^&#]*)/g,function(t,n,o){let a=decodeURIComponent(n),r=decodeURIComponent(o);return e[a]=r,t}),e},onlineImageToLocal:t=>new Promise((e,n)=>{wx.downloadFile({url:t,success:function(t){200===t.statusCode&&e(t.tempFilePath)}})}),myRegExp:{isWeixin:(t,e="请填写正确的微信号")=>{return!!/[1-9][0-9]{5,19}|^[a-zA-Z]([-_a-zA-Z0-9]{5,19})+$/.test(t)||(a.toast(e),!1)},isPhoneNumber:(t,e="请填写正确的手机号")=>{return!!/^1[0-9]{10}$/.test(t)||(a.toast(e),!1)},isFloatNumber:(t,e="数字格式不正确哦～")=>{return!!/^((?!0)\d+(.\d{1,2})?)$/.test(t)||(a.toast(e),!1)}},debounce(t,e,n){let o,a;return function(){let r=this,u=arguments;if(o&&clearTimeout(o),n){let n=!o;o=setTimeout(function(){o=null},e),n&&(a=t.apply(r,u))}else o=setTimeout(function(){a=t.apply(r,u)},e);return a}},checkUpdate(){const t=wx.getUpdateManager();t.onCheckForUpdate(function(t){console.log("小程序是否有新版本：",t.hasUpdate)}),t.onUpdateReady(function(){wx.showModal({title:"更新提示",content:"新版本已经准备好，是否重启小程序？",success:function(e){e.confirm&&t.applyUpdate()}})}),t.onUpdateFailed(function(){console.log("新的版本下载失败")})},getCurrentPage(){let t=getCurrentPages();return t[t.length-1].route}};e.default=a},function(t,e){t.exports={mainHost:"https://github.com/BooheeFE/"}},function(t,e,n){"use strict";n.r(e);n(4);var o=n(1);const a={url:"",data:{},header:{"Content-Type":"application/json",Client:"mina"},method:"GET",dataType:"json"};e.default=function(t){let e=Object.assign({},a,t),{url:n,data:r,header:u,method:i,dataType:s}=e,c=null;return c=setTimeout(()=>{o.default.toast("加载中...",1500,"loading")},500),wx.request({url:n,data:r,header:u,method:i,dataType:s}).then(t=>{if(clearTimeout(c),t&&200===t.statusCode&&t.data&&t.data.success)return t.data;throw t&&200===t.statusCode&&t.data?new Error(t.data.msg.toString()):new Error}).catch(t=>{throw clearTimeout(c),t.message?o.default.alert("提示",t.message):(setTimeout(()=>{o.default.toast("哎呦，网络开小差了≧﹏≦")},0),console.log("err:",t,"url:",n,"data:",r)),new Error}).finally(()=>{wx.hideToast()})}},function(t,e){Promise.prototype.finally=function(t){let e=this.constructor;return this.then(n=>e.resolve(t()).then(()=>n),n=>e.resolve(t()).then(()=>{throw n}))},["request"].forEach(t=>{const e=wx[t];e&&"function"==typeof e&&Object.defineProperty(wx,t,{get:()=>(t={})=>new Promise((n,o)=>{t.success=(t=>{n(t)}),t.fail=(t=>{o(t)}),e(t)})})})},function(t,e,n){"use strict";n.r(e),n.d(e,"getToken",function(){return r}),n.d(e,"getTokenSilent",function(){return u});var o=n(2),a=n(3);let r=function(t){return Object(a.default)({url:`${o.mainHost}/api/v1/wechat/sessions`,data:t,method:"POST"})},u=function(t){return Object(a.default)({url:`${o.mainHost}/api/v1/wechat/sessions/silent`,data:t,method:"POST"})}},function(t,e,n){"use strict";n.r(e);var o=n(5),a=n(0);const r=getApp();function u(t,e){wx.login({success:function(n){let u=n.code;u?e?function(t,e,n){let u={code:t,data:e.encryptedData,iv:e.iv,app_key:a.appKey};Object(o.getToken)(u).then(t=>{r.globalData.token=t.token,"function"==typeof n&&n()})}(u,e,t):function(t,e){let n={code:t,app_key:a.appKey};Object(o.getTokenSilent)(n).then(t=>{let n=t&&t.token;n?function(t,e){r.globalData.token=t,"function"==typeof e&&e()}(n,e):wx.navigateTo({url:"/pages/authorize/authorize"})})}(u,t):console.log("获取用户登录态失败！"+n.errMsg)},fail:function(t){console.log(t)}})}e.default=function(t,e){r.globalData.token?wx.checkSession({success:function(){"function"==typeof t&&t()},fail:function(){u(t)}}):u(t,e)}},,function(t,e,n){"use strict";n.r(e);var o=n(6),a=n(1);Page({data:{},authorize(){let t=this;wx.openSetting({success:e=>{e.authSetting["scope.userInfo"]?wx.showModal({title:"提示",content:"请点击一键授权",showCancel:!1}):wx.showModal({title:"提示",content:"请切换到“允许”！",showCancel:!1,success:function(e){t.authorize()}})}})},getUserInfo(t){let e=this,n=t.detail;n.encryptedData?Object(o.default)(()=>{a.default.toast("授权成功！",1500,"success"),setTimeout(()=>{wx.navigateBack()},1500)},n):e.authorize()},onLoad:function(t){},onReady:function(){},onShow:function(){},onHide:function(){},onUnload:function(){},onPullDownRefresh:function(){},onReachBottom:function(){}})}]);